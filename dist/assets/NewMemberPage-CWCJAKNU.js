import{d as p,v as g,r as d,j as e,p as h}from"./index-qrKD8iQQ.js";import{u as f,a as y}from"./useMutation-Xroxpiru.js";function N(){const i=p(),m=g(),[a,t]=d.useState({name:"",dob:"",gender:"",address:"",email:"",phone:"",idCardNumber:"",age:"",occupation:"",maritalStatus:"",accountTypeId:"",documents:{birthCertificate:!1,idCopy:!1,applicationFeePaid:!1}}),[o,n]=d.useState(null),[c,u]=d.useState(null),{data:s}=f({queryKey:["accountTypes"],queryFn:h.getAccountTypes}),x=(s==null?void 0:s.account_types)||[],l=y({mutationFn:r=>createMember(r),onSuccess:()=>{u("Member created successfully!"),n(null),i.invalidateQueries({queryKey:["members"]}),setTimeout(()=>m("/members"),1e3)},onError:r=>{n((r==null?void 0:r.message)||"Failed to create member."),u(null)}}),b=r=>{r.preventDefault(),l.mutate(a)};return e.jsxs("div",{className:"max-w-3xl mx-auto pt-24",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create New Member"}),o&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded mb-4 text-red-800",children:o}),c&&e.jsx("div",{className:"bg-green-50 border border-green-200 p-4 rounded mb-4 text-green-800",children:c}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:a.name,onChange:r=>t({...a,name:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{type:"date",required:!0,value:a.dob,onChange:r=>t({...a,dob:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{required:!0,value:a.gender,onChange:r=>t({...a,gender:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("input",{type:"text",required:!0,value:a.address,onChange:r=>t({...a,address:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:a.email,onChange:r=>t({...a,email:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:r=>t({...a,phone:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID Card Number"}),e.jsx("input",{type:"text",required:!0,value:a.idCardNumber,onChange:r=>t({...a,idCardNumber:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),e.jsx("input",{type:"number",required:!0,value:a.age,onChange:r=>t({...a,age:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Occupation"}),e.jsx("input",{type:"text",required:!0,value:a.occupation,onChange:r=>t({...a,occupation:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marital Status"}),e.jsx("input",{type:"text",required:!0,value:a.maritalStatus,onChange:r=>t({...a,maritalStatus:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Type"}),e.jsxs("select",{required:!0,value:a.accountTypeId,onChange:r=>t({...a,accountTypeId:r.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"",children:"Select Account Type"}),x.map(r=>e.jsxs("option",{value:r.id,children:[r.name," - Fee: ",r.processing_fee]},r.id))]})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Required Documents:"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.documents.birthCertificate,onChange:r=>t({...a,documents:{...a.documents,birthCertificate:r.target.checked}})}),e.jsx("span",{children:"Birth Certificate"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.documents.idCopy,onChange:r=>t({...a,documents:{...a.documents,idCopy:r.target.checked}})}),e.jsx("span",{children:"ID Copy"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.documents.applicationFeePaid,onChange:r=>t({...a,documents:{...a.documents,applicationFeePaid:r.target.checked}})}),e.jsx("span",{children:"Application Fee Paid"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:l.isLoading,className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.isLoading?"Creating...":"Create Member"})})]})]})}export{N as default};
